---
title: "interactive map"
author: "Xin Fang"
date: "12/9/2021"
output: html_document
---
```{r}
library(plotly)
df <- read.csv("https://raw.githubusercontent.com/plotly/datasets/master/2011_us_ag_exports.csv")

l <- list(color = toRGB("white"), width = 2)
# specify some map projection/options
g <- list(
  scope = 'usa',
  projection = list(type = 'albers usa'),
  showlakes = TRUE,
  lakecolor = toRGB('white')
)

fig_2019 <- plot_geo(leisure_data_state %>% filter(year == 2019), locationmode = 'USA-states')
fig_2019 <- fig_2019 %>% add_trace(
    z = ~avg_leisure_time, locations = ~state,
    color = ~avg_leisure_time, colors = 'Purples'
  )
fig_2019 <- fig_2019 %>% colorbar(title = "hours each day")
fig_2019 <- fig_2019 %>% layout(
    title = 'Average leisure time by state in 2019',
    geo = g
  )

fig_2019

library(plotly)
df <- read.csv("https://raw.githubusercontent.com/plotly/datasets/master/2011_us_ag_exports.csv")

l <- list(color = toRGB("white"), width = 2)
# specify some map projection/options
g <- list(
  scope = 'usa',
  projection = list(type = 'albers usa'),
  showlakes = TRUE,
  lakecolor = toRGB('white')
)

fig_2020 <- plot_geo(leisure_data_state %>% filter(year == 2020), locationmode = 'USA-states')
fig_2020 <- fig_2020 %>% add_trace(
    z = ~avg_leisure_time, locations = ~state,
    color = ~avg_leisure_time, colors = 'Purples'
  )
fig_2020 <- fig_2020 %>% colorbar(title = "hours each day")
fig_2020 <- fig_2020 %>% layout(
    title = 'Average leisure time by state in 2020',
    geo = g
  )

fig_2020
```